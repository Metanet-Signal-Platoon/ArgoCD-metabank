# Replica 설정 (dev 환경에서는 1개, 운영에서는 3개)
replicaCount: 1

# 컨테이너 이미지 설정 (Azure ACR 사용)
image:
  repository: metabank.azurecr.io/metanet-msa-list-service
  pullPolicy: IfNotPresent
  tag: "1739432083"

# 서비스 계정 설정
serviceAccount:
  create: true
  automount: true
  annotations: {}
  name: ""

# Pod Annotations & Labels (Helm에서 동적으로 추가 가능)
podAnnotations:
  environment: "dev"  # ✅ 환경 정보 추가
podLabels:
  environment: "dev"

# Pod Security Context (선택)
podSecurityContext: {}

# 컨테이너 Security Context (선택)
securityContext: {}

# Service 설정
service:
  type: ClusterIP  # 내부 네트워크용
  port: 80  # 포트 변경

  tls: []
  #  - secretName: chart-example-tls
  #    hosts:
  #      - metanet-dev.example.com

# 리소스 설정 (개발 환경 기준)
resources:
  requests:
    cpu: "250m"
    memory: "512Mi"
  limits:
    cpu: "500m"
    memory: "1024Mi"

# Liveness & Readiness Probes
livenessProbe:
  httpGet:
    path: /
    port: 8080
readinessProbe:
  httpGet:
    path: /
    port: 8080

# 자동 확장 (선택)
autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 5
  targetCPUUtilizationPercentage: 80

# 노드 선택 및 Tolerations
nodeSelector: {}
tolerations: []
affinity: {}

# 환경 변수 설정 (추가 가능)
envVars:
  - name: ENVIRONMENT
    value: "dev"  # ✅ 환경 변수 추가
  - name: SERVICE_NAME
    value: "metanet-msa-list-service"
